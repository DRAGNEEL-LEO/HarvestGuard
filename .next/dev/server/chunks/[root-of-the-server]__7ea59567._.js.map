{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Downloads/Harvest_Guard/website/app/api/weather/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\r\n\r\n// Bangladesh city coordinates for OpenWeatherMap\r\nconst bangladeshLocations: Record<string, { lat: number; lon: number }> = {\r\n  Dhaka: { lat: 23.8103, lon: 90.4125 },\r\n  Chittagong: { lat: 22.3569, lon: 91.7832 },\r\n  Khulna: { lat: 22.8456, lon: 89.5403 },\r\n  Rajshahi: { lat: 24.3745, lon: 88.6042 },\r\n  Barisal: { lat: 22.701, lon: 90.3535 },\r\n  Sylhet: { lat: 24.8949, lon: 91.8687 },\r\n  Rangpur: { lat: 25.7439, lon: 89.2752 },\r\n  Mymensingh: { lat: 24.7471, lon: 90.4203 },\r\n}\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const location = request.nextUrl.searchParams.get(\"location\") || \"Dhaka\"\r\n    const coords = bangladeshLocations[location]\r\n\r\n    if (!coords) {\r\n      return NextResponse.json({ error: \"Location not found\" }, { status: 400 })\r\n    }\r\n\r\n    // Note: In production, add your OpenWeatherMap API key to environment variables\r\n    const apiKey = process.env.OPENWEATHER_API_KEY || \"demo\"\r\n\r\n    // Mock data for demo - in production, call real API\r\n    const mockWeather = {\r\n      location,\r\n      temperature: 28 + Math.random() * 5,\r\n      humidity: 70 + Math.random() * 15,\r\n      rainChance: Math.floor(Math.random() * 100),\r\n      windSpeed: 5 + Math.random() * 10,\r\n      condition: \"Partly Cloudy\",\r\n      forecast: Array.from({ length: 5 }, (_, i) => ({\r\n        day: [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\"][i],\r\n        date: new Date(Date.now() + i * 86400000).toLocaleDateString(),\r\n        maxTemp: 28 + Math.random() * 3,\r\n        minTemp: 22 + Math.random() * 3,\r\n        rainChance: Math.floor(Math.random() * 100),\r\n        humidity: 70 + Math.random() * 15,\r\n      })),\r\n    }\r\n\r\n    return NextResponse.json(mockWeather)\r\n  } catch (error) {\r\n    console.error(\"[v0] Weather API error:\", error)\r\n    return NextResponse.json({ error: \"Failed to fetch weather\" }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,iDAAiD;AACjD,MAAM,sBAAoE;IACxE,OAAO;QAAE,KAAK;QAAS,KAAK;IAAQ;IACpC,YAAY;QAAE,KAAK;QAAS,KAAK;IAAQ;IACzC,QAAQ;QAAE,KAAK;QAAS,KAAK;IAAQ;IACrC,UAAU;QAAE,KAAK;QAAS,KAAK;IAAQ;IACvC,SAAS;QAAE,KAAK;QAAQ,KAAK;IAAQ;IACrC,QAAQ;QAAE,KAAK;QAAS,KAAK;IAAQ;IACrC,SAAS;QAAE,KAAK;QAAS,KAAK;IAAQ;IACtC,YAAY;QAAE,KAAK;QAAS,KAAK;IAAQ;AAC3C;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,WAAW,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,eAAe;QACjE,MAAM,SAAS,mBAAmB,CAAC,SAAS;QAE5C,IAAI,CAAC,QAAQ;YACX,OAAO,2SAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAqB,GAAG;gBAAE,QAAQ;YAAI;QAC1E;QAEA,gFAAgF;QAChF,MAAM,SAAS,QAAQ,GAAG,CAAC,mBAAmB,IAAI;QAElD,oDAAoD;QACpD,MAAM,cAAc;YAClB;YACA,aAAa,KAAK,KAAK,MAAM,KAAK;YAClC,UAAU,KAAK,KAAK,MAAM,KAAK;YAC/B,YAAY,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;YACvC,WAAW,IAAI,KAAK,MAAM,KAAK;YAC/B,WAAW;YACX,UAAU,MAAM,IAAI,CAAC;gBAAE,QAAQ;YAAE,GAAG,CAAC,GAAG,IAAM,CAAC;oBAC7C,KAAK;wBAAC;wBAAO;wBAAO;wBAAO;wBAAO;qBAAM,CAAC,EAAE;oBAC3C,MAAM,IAAI,KAAK,KAAK,GAAG,KAAK,IAAI,UAAU,kBAAkB;oBAC5D,SAAS,KAAK,KAAK,MAAM,KAAK;oBAC9B,SAAS,KAAK,KAAK,MAAM,KAAK;oBAC9B,YAAY,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;oBACvC,UAAU,KAAK,KAAK,MAAM,KAAK;gBACjC,CAAC;QACH;QAEA,OAAO,2SAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,2SAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA0B,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACF"}}]
}